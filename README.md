# rest-crud-webservice-with-mysql

RESTful API webservice responsible formanaging and storing in database simple notes (without the UI part).

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.

### Components

* `README.md`- instruction
* `mysqlrestservice1` - catalog with project
* `database_setup_script.sql` - script for setting up database

### Prerequisites

* Any Java IDE with Apache Maven support. (Created with IntelliJ IDEA)
* MySQL 5.x
* PhpMyAdmin or any other clients to access MySQL database
* Postman or any other REST Clients

### Database setup

There are two ways to set up database for purposes of this assignment:

1. Create your own DB basing on attached script:
  * Install MySQL Server on your machine
  * Open your MySQL access client
  * Run `database_setup_script.sql` on your client
  * Configure database connector in `application.properties` by inserting:
    - host: localhost:3306/wladymir_new_db
    - username: root
    - password: root
   

2. Connect to previously prepared database hosted online:
  * Configure database connector in `application.properties` by inserting:
    - host: f5.host-ed.me:3306/wladymir_new_db
    - username: wladymir_me
    - password: qwerty1236635522
  
  
  Example of `application.properties` file:
  
  ```
# Automatically update the database
spring.jpa.hibernate.ddl-auto=update

# The database connection URL
spring.datasource.url=jdbc:mysql://localhost:3306/wladymir_new_db?useSSL=false

# Username
spring.datasource.username=root

# Password
spring.datasource.password=root

# Define the database platform
spring.jpa.database-platform=org.hibernate.dialect.MySQLMyISAMDialect

# Define the naming strategy
spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy

hibernate.dialect.storage_engine=MyISAM

# Define the default schema
spring.jpa.properties.hibernate.default_schema=schema

```
 
## Running the project

1. Set up your database
2. Import `mysqlrestservice1` project to your IDE
3. Wait for your IDE to download dependencies from `pom.xml` file
4. Configure database connector in `application.properties`. Check Database Setup header.
4. Build project
5. Run main method from `Application.java` class
6. Open your REST Client and send requests on : `http://localhost:8080`
   - for POST request add `/titles`
   - for PUT request add `/titles/id` 
   - for GET request add `/titles`
   - for DELETE request add `/titles/id`
   
   You also have to fill mandatory fields (title & content) for POST and PUT requests.
   
### Example usages
(cURL's generated by Postman client)

POST
```
curl -X POST \
  http://localhost:8080/titles \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -H 'Postman-Token: 33816b41-042e-4441-b7ec-0493beb8034c' \
  -d '{
	"title": "TYTUL",
	"content": "KONTENT"
}'
```

PUT
```
curl -X PUT \
  http://localhost:8080/titles/10 \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -H 'Postman-Token: fb7a32d0-3f53-4794-b857-4630f8134104' \
  -d '{
	"title": "TYTUL",
	"content": "KONTENT_INNY"
}'
```

GET
```
curl -X GET \
  http://localhost:8080/titles \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -H 'Postman-Token: a01d3a2a-2e41-4a10-987e-3b229a27463a'
```

DELETE
```
curl -X DELETE \
  http://localhost:8080/titles/10 \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -H 'Postman-Token: 2f5b431b-6c0c-44bf-b30e-954347a0ad36'
```

## Authors

* **Adrian Rodizk** 
